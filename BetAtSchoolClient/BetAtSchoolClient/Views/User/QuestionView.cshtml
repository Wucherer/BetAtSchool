@using BetAtSchoolClient.Models;
@{

    Layout = null;

    int currentQuestion = int.Parse(ViewContext.HttpContext.Session["currentQuestion"] as string);
    Player currentPlayer = HttpContext.Current.Session["currentPlayer"] as Player;
    UserGuide guide = HttpContext.Current.Session["currentGuide"] as UserGuide;
}

<script>

    function btnNextClick(e)
    {
        var rightAnswer = $("#RightAnswer").data("KendoCheckBox");
        var score = $("#txtInset").data("kendoTextBox");

        if (rightAnswer.checked == true)
        {
            $.ajax(
                {
                    type: 'POST',
                    url: '@Url.Action("setScore", "User")',
                    data: { score: score.val() },
                    success: function (result) {

                    }
                });
        } else {
            score = null;
        }

         $.ajax(
                {
                    type: 'GET',
                    url: '@Url.Action("QuestionView", "User")',
                    success: function (result) {
                        $("#body").html(result);
                    }
                });
    }

    function btnSkipClick(e)
    {
        $.ajax(
                {
                    type: 'GET',
                    url: '@Url.Action("skipQuestion", "User")',
                    success: function (result) {
                        $("#body").html(result);
                    }
                });
    }
    function btnExitClick(e)
    {
        $.ajax(
               {
                   type: 'GET',
                   url: '@Url.Action("exitQuestion", "User")',
                   success: function (result) {
                       $("#body").html(result);
                   }
               });
    }
</script>

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>QuestionView</title>
</head>
<body>
    <div id="currentGuide" class="demo-section k-content">currently logged in: @guide.Username</div>
    <div id="currentGuide" class="demo-section k-content">currently playing: @currentPlayer.name</div>

    <div id="Login-content" class="demo-section k-content">
        <p class="title">@Model.Questions[currentQuestion].Description</p>
        <ul>
            @for (int i = 0; i < Model.Questions[currentQuestion].Answers.Count; i++)
            {
                if (Model.Questions[currentQuestion].CorrectAnswer == currentQuestion)
                {
                    <li>@Html.Kendo().CheckBox().Name("RightAnswer") @Model.Questions[currentQuestion].Answers[i].Description</li>
                }
                else
                {
                    <li>@Html.Kendo().CheckBox().Name("answer" + i) @Model.Questions[currentQuestion].Answers[i].Description</li>
                }
            }
        </ul>
        @Html.Kendo().TextBox().Name("txtInset");
        @Html.Kendo().Button().Name("btnNext").Events(e => e.Click("btnNextClick")).Content("Next")
        @Html.Kendo().Button().Name("btnSkip").Events(e => e.Click("btnSkipClick")).Content("Skip")
        @Html.Kendo().Button().Name("btnExit").Events(e => e.Click("btnExitClick")).Content("Exit")
    </div>

</body>
</html>
<style>
    .demo-section {
        padding: 0;
        width: 40%;
        margin-top: 5%;
        margin-left: 30%;
    }

    #btnStartQuiz {
        margin-top: 10px;
    }

    #Login-content .title {
        font-size: 16px;
        color: #fff;
        background-color: #1e88e5;
        padding: 20px 30px;
        margin: 0;
    }

    #fieldlist {
        margin: 0 0 -1.5em;
        padding: 30px;
    }

        #fieldlist li {
            list-style: none;
            padding-bottom: 1.5em;
        }

        #fieldlist label {
            display: block;
            padding-bottom: .6em;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 12px;
            color: #444;
        }
</style>
